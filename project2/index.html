<!DOCTYPE html><!--document type declaration-->
<html>
    <head><!-- a container for metadata -->
        <meta charset="utf-8"><!--charset: character encoding capable of encoding all characters on the web  -->
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><!--for browser compatibility: choose rendering engine to view the page in an correct view (for old ver. IE)  -->
        <title>Hyperlinked Set</title><!--declaring the title, or name, of the HTML document. displayed in the browser's title bar-->
        <meta name="description" content=""><!--keywords/snippet for search engines-->
        <meta name="viewport" content="width=device-width"><!--the browser will (probably) render the width of the page at the width of its own screen -->
        <!-- Add D3.js for CSV parsing -->
        <script src="https://d3js.org/d3.v7.min.js"></script>
        <!-- Add ml-mds library -->
        <script src="script.js"></script>
        <link rel="stylesheet" href="main.css">
        <link rel="stylesheet" href="popup.css">
        <link rel="stylesheet" href="about-popup.css">
    </head>
    <body><!--all the contents of an HTML document goes here-->
        <div class="overlay initial-overlay">
            <!-- <h1>The Heart Rate Atlas</h1> -->
            <img class="close-icon" id="inital-close-icon" src="./icons/close.svg"/>
            <div class="content-area">
                <div class="data-area">
                    <p id="instruction-header">To visualize your heart rate, follow these easy steps:</p>
                    <div id="initial-instructions">
                        <p>These steps will be used to calculate your pulse. To start at a resting baseline, 
                            relax and take steady breaths. If your heartrate is elevated, wait a minute or 
                            so for it to slow back down.
                        </p>
                    </div>
                    <div class="input-area-cont">
                        <div class="age-activity-cont">
                            <div class="input-type" id="age-area">
                                <div class="step-number">1.</div>
                                <div class="input-cont">
                                    <label for="age-input">Enter your age</label>
                                    <input type="text" id="age-input" placeholder="Type here">
                                </div>
                            </div>
                            <div class="input-type" id="activity-area">
                                <div class="step-number">2.</div>
                                <div class="input-cont">
                                    <label for="activity-level">Select how active you are in a typical week</label>
                                    <div class="activity-button-area">
                                        <input type="radio" id="low" name="activity-level" value="low">
                                        <label for="low">Low</label>
                                        <input type="radio" id="moderate" name="activity-level" value="moderate">
                                        <label for="moderate">Moderate</label>
                                        <input type="radio" id="high" name="activity-level" value="high">
                                        <label for="high">High</label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="input-type" id="heartbeat-area">
                            <div class="pulse-instruction-area">
                                <div class="step-number">3.</div>
                                <div class="input-cont">
                                    <label for="heartbeat"> <ul>
                                        <li>With one hand, feel your pulse by placing your index and middle fingers on your 
                                            lower neck, on either side of the windpipe. Press lightly until you feel a pulse.</li>
                                        <li>With the other hand, click the heart icon each time you feel a beat for 30 seconds. 
                                            You can also tap the spacebar.</li>
                                    </ul></label>
                                </div>
                            </div>
                            <div class="heart-pulse-container">
                                <img class="heart-icon" src="./icons/abstract-heart.png"/>
                                <div class="pulse-info">
                                    <div id="pulse-count-sec">
                                        <div id="timer-display">00:30</div> 
                                        <div id="pulse-count">Beats: 0</div>
                                        <div id="bpm-display" style="display: none;">BPM: --</div>
                                    </div>
                                    <div id="heartrate-output-sec">
                                        <p>Or use</p>
                                        <button id="use-average-btn" class="avg-hr-button">
                                            average resting heart rate (72 BPM)
                                        </button>
                                    </div>
                                </div>
                            </div>
                            
                        </div>
                    </div>

                </div>
                <!-- <div class="instruction-area">
                    <p>To visualize your heart rate, follow these easy steps:</p>
                    <ol>
                        <li>Enter your age.</li>
                        <li>With one hand, feel your pulse by placing your index and middle fingers on your 
                            lower neck, on either side of the windpipe. Press lightly until you feel a pulse.</li>
                        <li>With the other hand, click the heart icon each time you feel a beat for one minute. 
                            You can also tap the spacebar.</li>
                    </ol>
                    <div class="button-container">
                        <button class="learn-more-btn">Learn more about the heart</button>
                    </div>

                </div> -->
            </div>
            <div class="button-container">
                <button class="visualize-button">
                    <p>Visualize your heartbeat</p>
                    <img class="caret-icon" src="./icons/caret.svg"/>
                </button>
            </div>
            <div class="disclaimer">
                <b>Disclaimer:</b> This tool is for visualization and educational purposes only. It is not a medical device 
                and should not be used to measure, diagnose, or monitor any health condition. 
            </div>
        </div>

        <div class="overlay about-overlay" id="resting-overlay">
            <img class="close-icon" src="./icons/close.svg"/>
            <h1>The Resting Heart Rate</h1>
            <div class="about-body">
                <p>Your resting heart rate (RHR) is the number of times your heart beats per minute when you're 
                    awake, calm, and completely at rest.</p>
                <p>For most healthy adults, a normal RHR falls between 60 and 100 beats per minute.A lower resting 
                    rate often means your heart is more efficient—it doesn’t need to work as hard to circulate blood. 
                    Very fit people or athletes can have a resting heart rate as low as 40-60 bpm.</p>
                <p>Your RHR is a useful baseline for understanding your cardiovascular health, because it reflects 
                    how relaxed or strained your heart is in everyday life. This visualization uses your resting 
                    heart rate as the baseline for all other heartbeat states—showing how your heart naturally 
                    rises and falls throughout moments of activity, stress, and sleep.</p>
            </div>
            <!-- <div class="button-container">
                <button class="learn-more-button">
                    <p>Learn more</p>
                    <img class="caret-icon" src="./icons/caret.svg"/>
                </button>
            </div> -->
            <div class="disclaimer">
                <b>Disclaimer:</b> This tool is for visualization and educational purposes only. It is not a medical device 
                and should not be used to measure, diagnose, or monitor any health condition. 
            </div>
        </div>

        <div class="overlay about-overlay" id="active-overlay">
            <img class="close-icon" src="./icons/close.svg"/>
            <h1>The Active Heart Rate</h1>
            <div class="about-body">
                <p>When you’re moving—walking, jogging, doing daily chores—your heart rate rises into a “training zone” 
                    to meet your body’s increased demands. For many people, this means working at 50–85% of their maximum heart 
                    rate, depending on how hard they’re going.</p>
                <p>In this zone, your heart is getting stronger. It’s efficient, sustainable, and a key part of building 
                    cardiovascular fitness. Experts like the American Heart Association recommend regularly exercising 
                    within this range for heart health.</p>
                <p>How we estimate your active heart rate:</p>
                <ol>
                    <li>Estimate your max heart rate: ~220 − your age</li>
                    <ul class="inner-list">
                        <li>If you don’t provide an age, we use a standard estimated max of 200 beats per minute.</li>
                    </ul>
                    <li>From that maximum, we estimate your active heart rate based on the activity level you choose:</li>
                    <ul class="inner-list">
                        <li>Low activity: ~55% of your maximum</li>
                        <li>Moderate activity: ~65% of your maximum</li>
                        <li>High activity: ~80% of your maximum</li>
                    </ul>
                </ol>
                <ul class="outer-list">
                    <li>These percentages are widely used in exercise science to represent different training intensity zones, 
                        and the result gives you a reasonable estimate of what your heart rate might be during activity.</li>
                </ul>
            </div>
            <!-- <div class="button-container">
                <button class="learn-more-button">
                    <p>Learn more</p>
                    <img class="caret-icon" src="./icons/caret.svg"/>
                </button>
            </div> -->
            <div class="disclaimer">
                <b>Disclaimer:</b> This tool is for visualization and educational purposes only. It is not a medical device 
                and should not be used to measure, diagnose, or monitor any health condition. 
            </div>
        </div>

        <div class="overlay about-overlay" id="stressed-overlay">
            <img class="close-icon" src="./icons/close.svg"/>
            <h1>The Stressed Heart Rate</h1>
            <div class="about-body">
                <p>When you experience psychological or physical stress, your body activates the “fight-or-flight”
                    response. Stress hormones like adrenaline cause your heart to beat faster and your blood 
                    pressure to rise. This temporary increase in heart rate is normal and helps the body respond 
                    to challenging situations. Research shows that stress can raise heart rate similarly to light 
                    physical activity, though the exact change varies widely depending on age, fitness level, and 
                    overall health. Managing stress through breathing, rest, and movement can help your heart 
                    return to its resting rhythm.</p>
                <p>How we estimate your stressed heart rate:</p>
                <ul class="outer-list">
                    <li>Your stressed heart rate is calculated by increasing your resting heart rate (RHR) by 15%</li>
                    <li>We use a 15% increase above your resting heart rate as an approximation of how the heart often responds 
                        to mild to moderate psychological stress. Studies show that everyday stressors like deadlines, emotional 
                        tension, or cognitive load typically raise heart rate by 10–20%, though the exact response varies widely 
                        between individuals.</li>
                </ul>
            </div>
            <!-- <div class="button-container">
                <button class="learn-more-button">
                    <p>Learn more</p>
                    <img class="caret-icon" src="./icons/caret.svg"/>
                </button>
            </div> -->
            <div class="disclaimer">
                <b>Disclaimer:</b> This tool is for visualization and educational purposes only. It is not a medical device 
                and should not be used to measure, diagnose, or monitor any health condition. 
            </div>
        </div>

        <div class="overlay about-overlay" id="sleeping-overlay">
            <img class="close-icon" src="./icons/close.svg"/>
            <h1>The Sleeping Heart Rate</h1>
            <div class="about-body">
                <p>During sleep, the body shifts into a recovery-focused state dominated by the parasympathetic nervous 
                    system. As a result, heart rate typically drops below daytime resting levels, often by about 10–20%, 
                    reflecting reduced metabolic demand and increased physiological restoration. A lower sleeping heart 
                    rate is generally associated with good cardiovascular health and effective overnight recovery, though 
                    individual values naturally vary based on age, fitness, stress, and sleep quality. Understanding your 
                    sleeping heart rate can provide insight into how well your body is resting and restoring itself.</p>
                <p>How we estimate your stressed heart rate:</p>
                <ul class="outer-list">
                    <li>Your sleeping heart rate is estimated as 85% of your resting heart rate.</li>
                    <li>During healthy sleep, heart rate typically drops by 10–20% as the body shifts into a calmer, restorative state.</li>
                </ul>
            </div>
            <!-- <div class="button-container">
                <button class="learn-more-button">
                    <p>Learn more</p>
                    <img class="caret-icon" src="./icons/caret.svg"/>
                </button>
            </div> -->
            <div class="disclaimer">
                <b>Disclaimer:</b> This tool is for visualization and educational purposes only. It is not a medical device 
                and should not be used to measure, diagnose, or monitor any health condition. 
            </div>
        </div>

        <div class="overlay learn-more-overlay" style="display: none;">
            <img class="close-icon" src="./icons/close.svg"/>
            <h1>Learn More about Your Heart</h1>
            <div class="about-body">
                <p>Here are some additional sources to dig deeper into heart‑rate science, healthy norms, and how sleep or activity 
                    affect heart rate:</p>
                <p>American Heart Association (AHA) — “<a class="web-link" href="https://www.heart.org/en/health-topics/high-blood-pressure/the-facts-about-high-blood-pressure/all-about-heart-rate-pulse?" target="_blank">All About Heart Rate (Pulse)</a> 
                    ”: a clear overview of what constitutes normal resting heart rate, what affects it, and why it matters.</p>
                <p>Cleveland Clinic — “<a class="web-link" href="https://my.clevelandclinic.org/health/diagnostics/heart-rate?" target="_blank">Heart Rate</a> 
                    ” overview page: discusses factors affecting heart rate, what’s normal, and when to worry.</p>
                <p>Mayo Clinic — “<a class="web-link" href="https://www.mayoclinic.org/healthy-lifestyle/fitness/in-depth/exercise-intensity/art-20046887" target="_blank">Exercise intensity: How to measure it</a> 
                    ” overview page: describes how to gauge your exercise intensity by understanding your heart.</p>
                <p>Harvard Health Publishing — “<a class="web-link" href="https://www.health.harvard.edu/blog/how-does-sleep-affect-your-heart-rate-2021012921846?" target="_blank">How does sleep affect your heart rate?</a> 
                    ” article: explains what happens to your heart rate while you sleep.</p>
            </div>
        </div>

        <div class="overlay alert-overlay" style="display: none;">
            <!-- <img class="close-icon" src="./icons/close.svg"/> -->
            <div><span class="alert-message"></span></div>
            <div class="button-container">
                <button class="alert-button">
                    OK
                </button>
            </div>
        </div>

        <div id="main-area">
            <div id="header-area">
                <button class="settings-button">
                    <p>Heart rate settings</p>
                </button>
                <h1 id="main-title">The Heart Rate Atlas</h1>
            </div>
            <div class="sidebar-area">
                <div class="metrics-container">
                    <!-- <p>Current metrics</p> -->
                    <div class="metric">
                        <div>Resting heart rate: <span id="rate-display"></span></div>
                    </div>
                    <div class="metric">
                        <div>Age: <span id="age-display"></span></div>
                    </div>
                    <div class="metric">
                        <div>Activity level: <span id="activity-display"></span></div>
                    </div>
                </div>
                <div class="states-container">
                    <div class="state-item active" data-state="resting">
                        <div class="state-dot"></div>
                        <div class="state-line"></div>
                        <div class="state-label">Resting</div>
                        <div class="current-rate-display active">
                            <div>HR: <span id="state-rate-display"></span></div> 
                            <img class="about-icon" src="icons/about-icon.svg"/> 
                        </div>
                    </div>
                    <div class="state-item" data-state="active">
                        <div class="state-dot"></div>
                        <div class="state-line"></div>
                        <div class="state-label">Active</div>
                        <div class="current-rate-display" style="display: none;">
                            <div>HR: <span id="state-rate-display"></span></div>
                            <img class="about-icon" src="icons/about-icon.svg"/> 
                        </div>
                    </div>
                    <div class="state-item" data-state="stressed">
                        <div class="state-dot"></div>
                        <div class="state-line"></div>
                        <div class="state-label">Stressed</div>
                        <div class="current-rate-display" style="display: none;">
                            <div>HR: <span id="state-rate-display"></span></div>
                            <img class="about-icon" src="icons/about-icon.svg"/> 
                        </div>
                    </div>
                    <div class="state-item" data-state="sleeping">
                        <div class="state-dot"></div>
                        <div class="state-line"></div>
                        <div class="state-label">Sleeping</div>
                        <div class="current-rate-display" style="display: none;">
                            <div>HR: <span id="state-rate-display"></span></div>
                            <img class="about-icon" src="icons/about-icon.svg"/> 
                        </div>
                    </div>
                </div>
                <div class="learn-more-area">
                    <button class="learn-more-button">
                        <p>Learn more</p>
                        <img class="caret-icon" src="./icons/caret.svg"/>
                    </button>
                </div>
            </div>
            <div id="heart-container">
                <div class="shape shape1">
                    <img class="shape-img img1A" src="./shapes_resting/shape1a.png" />
                    <img class="shape-img img1B" src="./shapes_resting/shape1b.png"/>
                </div>
                <div class="shape shape2">
                    <img class="shape-img img2A" src="./shapes_resting/shape2a.png" />
                    <img class="shape-img img2B" src="./shapes_resting/shape2b.png"/>
                </div>
                <div class="shape shape3">
                    <img class="shape-img img3A" src="./shapes_resting/shape3a.png" />
                    <img class="shape-img img3B" src="./shapes_resting/shape3b.png"/>
                </div>
                <div class="shape shape4">
                    <img class="shape-img img4A" src="./shapes_resting/shape4a.png" />
                    <img class="shape-img img4B" src="./shapes_resting/shape4b.png"/>
                </div>
                <div class="shape shape5">
                    <img class="shape-img img5A" src="./shapes_resting/shape5a.png" />
                    <img class="shape-img img5B" src="./shapes_resting/shape5b.png"/>
                </div>
            </div>
        </div>
    </body>
</html>
